{
  "metadata": {
    "version": "5.0",
    "descripcion": "Estructura jerárquica de fases, trámites y tareas para expedientes de AT",
    "principio": "Minimalismo estructural - la semántica vive en los TIPOS",
    "fecha_actualizacion": "2025-12-16",
    "cambios_v5": [
      "Revisión completa de TAREAS_ATOMICAS: relación con T.TAREAS (6 campos) y T.DOCUMENTOS",
      "ANALISIS: documento de salida ahora obligatorio (no opcional) para validación estructurada",
      "Todas las tareas confirmadas como compatibles con estructura minimalista de 6 campos",
      "Actualización de campos 'entrada' y 'salida' para reflejar solo documentos (no datos auxiliares)",
      "Cambio de campo 'genera' a 'habilita_tareas' para mayor claridad semántica",
      "Eliminación de referencias a datos no documentales en entrada/salida (PLANTILLA_ID, FIRMANTE_ID, etc.)",
      "Validación uniforme: COUNT(TAREA_ORIGEN_ID) > 0 para tareas con salida obligatoria"
    ]
  },
  "TAREAS_ATOMICAS": [
    {
      "codigo": "ANALISIS",
      "nombre": "Análisis",
      "descripcion": "Revisión técnica o jurídica de documentación con generación obligatoria de documento formal (informe técnico-jurídico o nota interna)",
      "entrada": [
        "ID_DOCUMENTO (obligatorio)"
      ],
      "salida": [
        "DOCUMENTO_ID (obligatorio)"
      ],
      "habilita_tareas": "REDACTAR",
      "nota": "Documento de entrada se implementa mediante T.DOCUMENTOS.TAREA_DESTINO_ID apuntando a esta tarea. Documento de salida (obligatorio - cambio v5) se implementa mediante T.DOCUMENTOS.TAREA_ORIGEN_ID. El motor de reglas valida que COUNT(TAREA_ORIGEN_ID) > 0 antes de permitir FECHA_FIN. El documento puede ser informe formal o nota técnica informal según contexto del trámite. Durante la ejecución, el usuario puede corregir datos erróneos en PROYECTOS o clasificación documental, salvo que las reglas de negocio lo impidan. Los 6 campos genéricos de T.TAREAS son suficientes para ANALISIS."
    },
    {
      "codigo": "REDACTAR",
      "nombre": "Redactar",
      "descripcion": "Creación de documento administrativo borrador",
      "entrada": [
        "ID_DOCUMENTO (opcional - documento de ANALISIS previo si existe)"
      ],
      "salida": [
        "DOCUMENTO_BORRADOR_ID (obligatorio)"
      ],
      "habilita_tareas": "FIRMAR",
      "nota": "Documento de entrada opcional: si existe ANALISIS previo, T.DOCUMENTOS.TAREA_DESTINO_ID apunta a esta tarea REDACTAR. Documento de salida obligatorio mediante T.DOCUMENTOS.TAREA_ORIGEN_ID. El técnico consulta libremente todo el pool documental del expediente para redactar, pero solo el documento de ANALISIS (si existe) tiene relación administrativa formal. El borrador carece de fecha administrativa y validez jurídica hasta FIRMAR. Incluye implícitamente la preparación de documentación necesaria. Los 6 campos genéricos de T.TAREAS son suficientes para REDACTAR."
    },
    {
      "codigo": "FIRMAR",
      "nombre": "Firmar",
      "descripcion": "Firma autorizada del documento borrador",
      "entrada": [
        "DOCUMENTO_BORRADOR_ID (obligatorio)"
      ],
      "salida": [
        "DOCUMENTO_FIRMADO_ID (obligatorio)"
      ],
      "habilita_tareas": "NOTIFICAR, PUBLICAR",
      "nota": "Documento de entrada obligatorio: T.DOCUMENTOS.TAREA_DESTINO_ID apunta a esta tarea FIRMAR (borrador de REDACTAR). Documento de salida obligatorio mediante T.DOCUMENTOS.TAREA_ORIGEN_ID (documento firmado con validez jurídica). FECHA_FIN de la tarea es la fecha administrativa del acto de firma. Transforma el borrador en documento administrativo válido. Responsabilidad de usuario con autoridad distinta al redactor. Los 6 campos genéricos de T.TAREAS son suficientes para FIRMAR."
    },
    {
      "codigo": "NOTIFICAR",
      "nombre": "Notificar",
      "descripcion": "Comunicación a destinatario identificado",
      "entrada": [
        "DOCUMENTO_FIRMADO_ID (obligatorio)"
      ],
      "salida": [
        "JUSTIFICANTE_ID (obligatorio)"
      ],
      "habilita_tareas": "ESPERAR_PLAZO, REGISTRAR",
      "nota": "Documento de entrada obligatorio: T.DOCUMENTOS.TAREA_DESTINO_ID apunta a esta tarea NOTIFICAR (documento firmado de FIRMAR). Documento de salida obligatorio mediante T.DOCUMENTOS.TAREA_ORIGEN_ID (justificante de notificación: acuse, certificado postal, etc.). FECHA_FIN de la tarea es la fecha administrativa de la notificación. El justificante es documento terminal que no alimenta otras tareas. Destinatario y medio de notificación se gestionan fuera de la estructura de tarea. Los 6 campos genéricos de T.TAREAS son suficientes para NOTIFICAR."
    },
    {
      "codigo": "PUBLICAR",
      "nombre": "Publicar",
      "descripcion": "Publicación en medios oficiales (BOE, BOP, tablón, portal transparencia)",
      "entrada": [
        "DOCUMENTO_FIRMADO_ID (obligatorio)"
      ],
      "salida": [
        "JUSTIFICANTE_PUBLICACION_ID (obligatorio)"
      ],
      "habilita_tareas": "ESPERAR_PLAZO",
      "nota": "Documento de entrada obligatorio: T.DOCUMENTOS.TAREA_DESTINO_ID apunta a esta tarea PUBLICAR (documento firmado de FIRMAR). Documento de salida obligatorio mediante T.DOCUMENTOS.TAREA_ORIGEN_ID (justificante de publicación: PDF del BOE/BOP, captura portal, etc.). FECHA_FIN de la tarea es la fecha administrativa de publicación. Campo NOTAS almacena referencia de publicación (ej: BOE-A-2025-1234). Siempre habilita ESPERAR_PLAZO para plazo de alegaciones. Los 6 campos genéricos de T.TAREAS son suficientes para PUBLICAR."
    },
    {
      "codigo": "ESPERAR_PLAZO",
      "nombre": "Esperar Plazo",
      "descripcion": "Suspensión temporal con fecha límite (0 = indefinido para paralización sin plazo)",
      "entrada": [
        "Ninguno"
      ],
      "salida": [
        "Ninguno"
      ],
      "habilita_tareas": "REGISTRAR, (otras según contexto)",
      "nota": "Única tarea que no maneja documentos. FECHA_INICIO de la tarea marca inicio del plazo. Campo NOTAS almacena PLAZO_DIAS y TIPO_DIAS (ej: '30 días hábiles' o '0 días (indefinido)'). FECHA_FIN marca el cierre administrativo del plazo (puede ser automático al transcurrir o manual al recibir respuesta). PLAZO_DIAS=0 indica paralización indefinida hasta evento externo (ej: resolución ambiental). Los 6 campos genéricos de T.TAREAS son suficientes para ESPERAR_PLAZO."
    },
    {
      "codigo": "REGISTRAR",
      "nombre": "Registrar",
      "descripcion": "Registro de entrada de documentación externa o interna",
      "entrada": [
        "Ninguno (documento externo en 'hall' aún no vinculado al sistema)"
      ],
      "salida": [
        "DOCUMENTO_ID (obligatorio)"
      ],
      "habilita_tareas": "ANALISIS",
      "nota": "Única tarea que produce documento sin consumir. Incorpora documentos externos al sistema transformándolos de estado 'huérfano' (NULL, NULL) a 'generado' (ID_REGISTRAR, NULL) mediante T.DOCUMENTOS.TAREA_ORIGEN_ID. Es el punto de entrada de información al expediente. Campo NOTAS puede almacenar número de registro de entrada y remitente. Los 6 campos genéricos de T.TAREAS son suficientes para REGISTRAR."
    }
  ],
  "PATRONES_FLUJO": [
    {
      "codigo": "A",
      "nombre": "Análisis Interno",
      "secuencia": [
        "ANALISIS"
      ],
      "descripcion": "Análisis de documentación con o sin generación de informe formal según contexto",
      "destinatario": "Interno",
      "nota": "Versión v4: ANALISIS ahora fusiona el análisis intelectual con la generación de informe cuando sea necesario"
    },
    {
      "codigo": "B",
      "nombre": "Comunicación Simple",
      "secuencia": [
        "REDACTAR",
        "FIRMAR",
        "NOTIFICAR"
      ],
      "descripcion": "Comunicación sin espera de respuesta",
      "destinatario": "Externo identificado"
    },
    {
      "codigo": "C",
      "nombre": "Comunicación con Espera",
      "secuencia": [
        "REDACTAR",
        "FIRMAR",
        "NOTIFICAR",
        "ESPERAR_PLAZO"
      ],
      "descripcion": "Comunicación con espera de respuesta obligatoria",
      "destinatario": "Externo identificado",
      "retorno_esperado": "REGISTRAR"
    },
    {
      "codigo": "D",
      "nombre": "Publicación Oficial",
      "secuencia": [
        "REDACTAR",
        "FIRMAR",
        "PUBLICAR",
        "ESPERAR_PLAZO"
      ],
      "descripcion": "Publicación en medios oficiales con plazo de alegaciones",
      "destinatario": "Difusión pública",
      "retorno_esperado": "Ninguno (plazo para alegaciones)"
    },
    {
      "codigo": "E",
      "nombre": "Recepción y Análisis",
      "secuencia": [
        "REGISTRAR",
        "ANALISIS"
      ],
      "descripcion": "Procesamiento de documentación recibida con análisis",
      "destinatario": "Interno",
      "nota": "Versión v4: Simplificado tras fusión ANALISIS+INFORME"
    },
    {
      "codigo": "F",
      "nombre": "Espera Pasiva",
      "secuencia": [
        "ESPERAR_PLAZO"
      ],
      "descripcion": "Suspensión con o sin plazo definido",
      "destinatario": "Sistema",
      "nota": "Único caso de tarea sin predecesoras"
    },
    {
      "codigo": "G",
      "nombre": "Registro Inicial",
      "secuencia": [
        "REGISTRAR"
      ],
      "descripcion": "Entrada formal de solicitud al sistema sin análisis inmediato",
      "destinatario": "Sistema",
      "nota": "Nuevo en v4. Punto de entrada al sistema. Genera expediente si procede y vincula documentación física al contexto administrativo."
    }
  ],
  "FASES": [
    {
      "codigo": "REGISTRO_SOLICITUD",
      "nombre": "Registro de Solicitud",
      "descripcion": "Recepción y registro formal de la solicitud. Punto de entrada al sistema. Pre-clasificación realizada por administrativo antes de asignación a técnico.",
      "tramites": [
        {
          "codigo": "RECEPCION_SOLICITUD",
          "nombre": "Recepción de Solicitud",
          "descripcion": "Registro de entrada de la solicitud y documentación técnica aportada. Asignación de número de expediente si es solicitud inicial. Vinculación de documentación física (ZIP/carpeta) al expediente.",
          "tareas_indicativas": [
            "REGISTRAR"
          ],
          "patron": "G",
          "nota": "Ejecutado por técnico tras asignación. Formaliza el registro pre-realizado por administrativo. Actualiza T.DOCUMENTOS con TAREA_ORIGEN_ID. La clasificación inicial (tipo solicitud, proyecto básico) ya está hecha en T.EXPEDIENTES y T.PROYECTOS por el flujo colaborativo previo."
        },
        {
          "codigo": "COMUNICACION_INICIO",
          "nombre": "Comunicación de Inicio",
          "descripcion": "Acuse de recibo formal al solicitante con número de expediente asignado",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR"
          ],
          "patron": "B",
          "nota": "Opcional según política organizativa. Algunas administraciones solo comunican tras verificar admisibilidad."
        }
      ]
    },
    {
      "codigo": "ADMISIBILIDAD",
      "nombre": "Admisibilidad de la Solicitud",
      "descripcion": "Verificación de legitimación, capacidad y requisitos formales del solicitante",
      "tramites": [
        {
          "codigo": "COMPROBACION_ADMISIBILIDAD",
          "nombre": "Comprobación de Admisibilidad",
          "descripcion": "Análisis de capacidad legal, técnica, económica y pago de tasas",
          "tareas_indicativas": [
            "ANALISIS"
          ],
          "patron": "A",
          "nota": "ANALISIS genera informe de admisibilidad documentando conclusiones"
        },
        {
          "codigo": "REQUERIMIENTO_SUBSANACION",
          "nombre": "Requerimiento de Subsanación",
          "descripcion": "Solicitud de subsanación de defectos formales subsanables",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "C"
        }
      ]
    },
    {
      "codigo": "ANALISIS_TECNICO",
      "nombre": "Análisis Técnico",
      "descripcion": "Verificación de adecuación reglamentaria y completitud documental del proyecto",
      "tramites": [
        {
          "codigo": "COMPROBACION_DOCUMENTAL",
          "nombre": "Comprobación Documental",
          "descripcion": "Análisis de documentación técnica",
          "tareas_indicativas": [
            "ANALISIS"
          ],
          "patron": "A"
        },
        {
          "codigo": "REQUERIMIENTO_MEJORA",
          "nombre": "Requerimiento de Mejora/Complemento",
          "descripcion": "Solicitud de mejora o complemento de documentación técnica",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "C"
        }
      ]
    },
    {
      "codigo": "CONSULTA_MINISTERIO",
      "nombre": "Consulta al Ministerio",
      "descripcion": "Solicitud de informe preceptivo al Ministerio competente (exclusivo instalaciones de transporte)",
      "tramites": [
        {
          "codigo": "SOLICITUD_INFORME",
          "nombre": "Solicitud de Informe",
          "descripcion": "Remisión de documentación y solicitud de informe",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "C"
        },
        {
          "codigo": "RECEPCION_INFORME",
          "nombre": "Recepción de Informe",
          "descripcion": "Registro del informe recibido y análisis",
          "tareas_indicativas": [
            "REGISTRAR",
            "ANALISIS"
          ],
          "patron": "E"
        }
      ]
    },
    {
      "codigo": "COMPATIBILIDAD_AMBIENTAL",
      "nombre": "Compatibilidad Ambiental",
      "descripcion": "Obtención de informe de compatibilidad ambiental (exclusivo para instalaciones con AAU o AAUS previas)",
      "tramites": [
        {
          "codigo": "SOLICITUD_COMPATIBILIDAD",
          "nombre": "Solicitud de Compatibilidad",
          "descripcion": "Remisión a Medio Ambiente para obtención de compatibilidad con la legislación medioambiental",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "C"
        },
        {
          "codigo": "AUDIENCIA",
          "nombre": "Audiencia",
          "descripcion": "Audiencia iniciada por Medio Ambiente en caso de incompatibilidad. Se redactan alegaciones",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "C"
        },
        {
          "codigo": "RECEPCION_INFORME",
          "nombre": "Recepción de Informe Vinculante",
          "descripcion": "Recepción de informe vinculante (compatible o incompatible)",
          "tareas_indicativas": [
            "REGISTRAR",
            "ANALISIS"
          ],
          "patron": "E"
        }
      ]
    },
    {
      "codigo": "ADMISION_TRAMITE",
      "nombre": "Admisión a Trámite",
      "descripcion": "Resolución de admisión a trámite (solo para instalaciones de generación renovable)",
      "tramites": [
        {
          "codigo": "ANALISIS_ADMISION",
          "nombre": "Análisis de Admisión",
          "descripcion": "Evaluación de requisitos para admisión a trámite",
          "tareas_indicativas": [
            "ANALISIS",
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR"
          ],
          "patron": "A+B",
          "nota": "Combina análisis interno con comunicación simple"
        },
        {
          "codigo": "ALEGACIONES",
          "nombre": "Alegaciones a Admisión",
          "descripcion": "Presentación de alegaciones al informe de admisión",
          "tareas_indicativas": [
            "REGISTRAR",
            "ANALISIS",
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR"
          ],
          "patron": "E+B"
        }
      ]
    },
    {
      "codigo": "CONSULTAS",
      "nombre": "Consultas a Organismos",
      "descripcion": "Solicitud de informes sectoriales a organismos competentes (conforme RD 1955/2000)",
      "tramites": [
        {
          "codigo": "SEPARATAS",
          "nombre": "Generación y Traslado de Separatas",
          "descripcion": "Creación de separatas específicas por organismo afectado y su traslado (una por cada)",
          "tareas_indicativas": [
            "ANALISIS",
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "A+C",
          "nota": "ANALISIS identifica organismos afectados, REDACTAR genera separatas con plantillas"
        },
        {
          "codigo": "RECEPCION_INFORME",
          "nombre": "Recepción de Informe de Organismo",
          "descripcion": "Registro de informe del organismo con condicionados o negativa",
          "tareas_indicativas": [
            "REGISTRAR",
            "ANALISIS"
          ],
          "patron": "E"
        },
        {
          "codigo": "TRASLADO_REPAROS",
          "nombre": "Traslado de Reparos",
          "descripcion": "Traslado de reparos del titular al organismo correspondiente",
          "tareas_indicativas": [
            "REGISTRAR",
            "ANALISIS",
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "E+C"
        }
      ]
    },
    {
      "codigo": "INFORMACION_PUBLICA",
      "nombre": "Información Pública",
      "descripcion": "Exposición pública del proyecto para alegaciones",
      "tramites": [
        {
          "codigo": "ANUNCIO_BOE",
          "nombre": "Anuncio en BOE",
          "descripcion": "Publicación de anuncio en Boletín Oficial del Estado",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "PUBLICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "D"
        },
        {
          "codigo": "ANUNCIO_BOP",
          "nombre": "Anuncio en BOP",
          "descripcion": "Publicación de anuncio en Boletín Oficial Provincial",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "PUBLICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "D"
        },
        {
          "codigo": "ANUNCIO_PRENSA",
          "nombre": "Anuncio en Prensa",
          "descripcion": "Publicación de anuncio en diario de mayor difusión",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "PUBLICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "D"
        },
        {
          "codigo": "TABLON_AYUNTAMIENTOS",
          "nombre": "Tablón de Ayuntamientos",
          "descripcion": "Publicación en tablones de ayuntamientos afectados. Uno por ayuntamiento",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "C",
          "nota": "Aunque es publicación, se trata como NOTIFICAR a ayuntamientos"
        },
        {
          "codigo": "PORTAL_TRANSPARENCIA",
          "nombre": "Portal de Transparencia",
          "descripcion": "Publicación en portal web institucional",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "PUBLICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "D"
        },
        {
          "codigo": "RECEPCION_ALEGACION",
          "nombre": "Recepción de Alegación",
          "descripcion": "Registro de alegación individual y traslado a titular",
          "tareas_indicativas": [
            "REGISTRAR",
            "ANALISIS",
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "E+C",
          "nota": "ANALISIS clasifica alegante/interesado, traslada al titular para respuesta"
        },
        {
          "codigo": "ANALISIS_ALEGACIONES",
          "nombre": "Análisis de Alegaciones",
          "descripcion": "Informe técnico-jurídico sobre alegaciones y propuesta de respuesta",
          "tareas_indicativas": [
            "ANALISIS",
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR"
          ],
          "patron": "A+B"
        }
      ]
    },
    {
      "codigo": "FIGURA_AMBIENTAL_EXTERNA",
      "nombre": "Instrumento Ambiental Externo",
      "descripcion": "Gestión de AAU/AAUS/CA no integrada en tramitación sustantiva",
      "tramites": [
        {
          "codigo": "ESPERA_RESOLUCION",
          "nombre": "Espera de Resolución Ambiental",
          "descripcion": "Paralización hasta obtención de instrumento ambiental",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO"
          ],
          "patron": "C",
          "nota": "ESPERAR_PLAZO con plazo=0 (indefinido) hasta recepción de resolución ambiental"
        }
      ]
    },
    {
      "codigo": "AAU_AAUS_INTEGRADA",
      "nombre": "AAU/AAUS Integrada",
      "descripcion": "Tramitación de AAU/AAUS integrada en el procedimiento sustantivo",
      "tramites": [
        {
          "codigo": "REMISION_MEDIO_AMBIENTE",
          "nombre": "Remisión a Medio Ambiente",
          "descripcion": "Traslado a Medio Ambiente del resultado de IP y consultas para dictamen",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "NOTIFICAR",
            "ESPERAR_PLAZO",
            "REGISTRAR"
          ],
          "patron": "C+E",
          "nota": "Incluye paralización formal del expediente (ESPERAR_PLAZO con plazo=0) hasta recepción de dictamen"
        }
      ]
    },
    {
      "codigo": "RESOLUCION",
      "nombre": "Resolución",
      "descripcion": "Resolución finalizadora de la solicitud (favorable, condicionada, denegatoria, etc.)",
      "tramites": [
        {
          "codigo": "ELABORACION",
          "nombre": "Elaboración de Resolución",
          "descripcion": "Redacción de la resolución con base en informes y trámites previos",
          "tareas_indicativas": [
            "ANALISIS",
            "REDACTAR",
            "FIRMAR",
            "REGISTRAR"
          ],
          "patron": "A+B (sin NOTIFICAR)",
          "nota": "REGISTRAR es el registro interno de la resolución"
        },
        {
          "codigo": "NOTIFICACION",
          "nombre": "Notificación de Resolución",
          "descripcion": "Notificación a interesados de la resolución adoptada",
          "tareas_indicativas": [
            "REDACTAR",
            "NOTIFICAR"
          ],
          "patron": "B (simplificado)",
          "nota": "Puede omitir FIRMAR si se reutiliza el documento ya firmado en ELABORACION"
        },
        {
          "codigo": "PUBLICACION",
          "nombre": "Publicación de Resolución",
          "descripcion": "Publicación en medios oficiales si procede",
          "tareas_indicativas": [
            "REDACTAR",
            "FIRMAR",
            "PUBLICAR"
          ],
          "patron": "D (sin ESPERAR_PLAZO)"
        }
      ]
    }
  ],
  "NOTAS_IMPLEMENTACION": {
    "cambios_v5": [
      "Revisión completa de relación TAREAS_ATOMICAS con estructura minimalista de T.TAREAS (6 campos)",
      "Confirmación: los 6 campos genéricos son suficientes para todas las tareas atómicas",
      "ANALISIS: documento de salida cambiado de opcional a obligatorio",
      "Cambio de nomenclatura: 'genera' → 'habilita_tareas'",
      "Simplificación campos entrada/salida: solo documentos (no datos auxiliares)",
      "Validación uniforme mediante T.DOCUMENTOS.TAREA_ORIGEN_ID para tareas con salida obligatoria",
      "6 de 7 tareas manejan documentos; solo ESPERAR_PLAZO no usa documentos",
      "REGISTRAR es la única tarea que produce sin consumir (punto de entrada)"
    ],
    "tareas_pendientes": [
      "Crear tabla TIPOS_TAREAS con las 7 tareas atómicas y sus reglas de entrada/salida",
      "Actualizar tabla T.DOCUMENTOS confirmando campos: ID, URL, EXPEDIENTE_ID, TAREA_ORIGEN_ID, TAREA_DESTINO_ID",
      "Implementar validaciones en motor de reglas para documentos obligatorios",
      "Definir tabla REGLAS_SECUENCIA_TAREAS que vincule TIPO_TRAMITE → SECUENCIA_OBLIGATORIA",
      "Crear reglas que vinculen TIPO_EXPEDIENTE → FASES_OBLIGATORIAS",
      "Crear reglas que vinculen TIPO_FASE → TRAMITES_OBLIGATORIOS",
      "Implementar validación no intrusiva en interfaz (asterisco rojo + texto explicativo)",
      "Implementar botones de cálculo de fechas/plazos (no como tareas)",
      "Implementar asistente de preparación documental en formulario REDACTAR"
    ],
    "principios_mantenidos": [
      "Minimalismo estructural: la semántica vive en los TIPOS",
      "Los 6 campos de T.TAREAS son suficientes para todas las tareas atómicas",
      "La relación tarea↔documento se almacena UNA SOLA VEZ en T.DOCUMENTOS",
      "Estados deducibles NO se almacenan (PENDIENTE/EN_CURSO/COMPLETADA)",
      "Las reglas de negocio determinan secuencias válidas, no el código",
      "El núcleo es documental: documentos, fechas, plazos y destinatarios"
    ],
    "filosofia_tareas": [
      "Una tarea es una unidad de trabajo registrable con fecha inicio/fin",
      "Si una actividad nunca se registra como pendiente, no es una tarea",
      "Las funcionalidades de interfaz (preparar docs, calcular fechas) NO son tareas",
      "Los patrones son combinaciones de tareas según reglas de negocio",
      "La experiencia real de tramitación guía el diseño, no la teoría",
      "El estado del expediente es deducible de las tareas incompletas (filosofía del 'mise en place')"
    ],
    "validaciones_documentales": [
      "ANALISIS: SELECT COUNT(*) FROM T.DOCUMENTOS WHERE TAREA_ORIGEN_ID = ? (debe ser > 0)",
      "REDACTAR: SELECT COUNT(*) FROM T.DOCUMENTOS WHERE TAREA_ORIGEN_ID = ? (debe ser > 0)",
      "FIRMAR: SELECT COUNT(*) FROM T.DOCUMENTOS WHERE TAREA_ORIGEN_ID = ? (debe ser > 0)",
      "NOTIFICAR: SELECT COUNT(*) FROM T.DOCUMENTOS WHERE TAREA_ORIGEN_ID = ? (debe ser > 0)",
      "PUBLICAR: SELECT COUNT(*) FROM T.DOCUMENTOS WHERE TAREA_ORIGEN_ID = ? (debe ser > 0)",
      "REGISTRAR: SELECT COUNT(*) FROM T.DOCUMENTOS WHERE TAREA_ORIGEN_ID = ? (debe ser > 0)",
      "ESPERAR_PLAZO: No requiere validación documental"
    ]
  }
}
